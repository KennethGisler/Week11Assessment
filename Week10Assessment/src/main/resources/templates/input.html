<!DOCTYPE html>
<html xmls:th="http://www.thymeleaf.org">
<script type = "text/javascript">
	function checkForm(form){
	
		if(form.elements["name"].value == ""){
			alert("Error: Name input is empty!");
			form.elements["name"].focus();
			return false;
		}
		
		if(form.elements["type"].value == ""){
			alert("Error: Type input is empty!")
			form.elements["type"].focus();
			return false;
		}
		
		if(form.elements["cost"].value == ""){
			alert("Error: Cost feild is empty!");
			form.elements["cost"].focus();
			return false
		}
		
		if(isNaN(form.elements["cost"].value)){
			alert("Error: cost input Contains invalid characters!")
			form.elements["cost"].focus();
			return false;
		}
		
		var var1 = parseInt(form.elements["cost"].value);
		
		if(var1 <= 0 ){
			alert("Error: unit cost can't be less than or equal to 0!")
			form.elements["cost"].focus();
			return false;
		}
		
		if(form.elements["stats.movement"].value == ""){
			alert("Error: Movement stat is empty!");
			form.elements["stats.movement"].focus();
			return false;
		}
		
		if(isNaN(form.elements["stats.movement"].value)){
			alert("Error: Momement input contains invalid characters!");
			form.elements["stats.movement"].focus();
			return false;
		}
		
		var1 = parseInt(form.elements["stats.movement"].value);
		
		if(var1 <= 0){
			alert("Error: Movement stat can't be less than or equal to 0!");
			form.elements["stats.movement"].focus();
			return false;
		}
		
		return true;
	}
	
</script>
<head>
<meta charset="ISO-8859-1">
<title>Add or edit a unit</title>
</head>
<body>
<form th:object="${newUnit}" th:action="@{/update/{id}(id=${newUnit.id})}" method='POST' onsubmit = "return checkForm(this);" >
	Name: <input name="name" type = "text" size="20"  th:field="*{name}"> <br/>
	Type: <input name="type" size="15" th:field="*{type}"> 
	Cost: <input name="cost" size="2" th:field="*{cost}"> <br/>
	Movement: <input name="stats.movement" size="2" th:field="*{stats.movement}" > <br/>
	Weapons Skill: <input name="stats.weaponsSkill" size="2" th:field="*{stats.weaponsSkill}">
	Ballistics Skill: <input name="stats.ballisticsSkill" size="2" th:field="*{stats.ballisticsSkill}"> <br/>
	Strength: <input name="stats.strength" size="2" th:field="*{stats.strength}">
	Toughness:<input name="stats.toughness" size="2" th:field="*{stats.toughness}"> <br/>
	Wounds: <input name="stats.wounds" size="2" th:field="*{stats.wounds}"> <br/>
	Attacks: <input name="stats.attacks" size="2" th:field="*{stats.attacks}"> <br/>
	Leadership: <input name="stats.leadership" size="2" th:field="*{stats.leadership}"> <br/>
	Save: <input name="stats.save" size="2" th:field="*{stats.save}"> <br/>
	<input name="submit" type="submit" value="submit" />
</form>
<form action="/viewAll">
    <input type="submit" value="See all units" />
	</form>
</body>
</html>